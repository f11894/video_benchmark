# video_benchmark
各種エンコーダーの性能をベンチマークをするbatファイル群

PSNR、SSIM、VMAFのスコアを算出してcsvに出力したりグラフを作成することが出来ます  
エンコード速度の計測や自動マルチパスエンコード機能もあります  

### 使い方  

video_benchmark.batに以下の引数を渡して起動します  
引数1 ベンチマークしたい元動画  
引数2 エンコーダーで出力する時のファイル名  
引数3 エンコーダーに渡す引数  
引数4 使用するエンコーダー名  
引数5 csvに出力する際のファイル名  
引数6 エンコードする時のビット深度(無指定だと8bit、「10bit」だと10bitでエンコードします)   

具体的な使い方は同梱してあるプリセット用のbatを見ればわかるかと思います  
もしくはプリセット用のbatに動画ファイルをドロップしてください  
エンコードが終わったらbenchmark_logフォルダをCreate_Graph.batにドロップしてグラフを作成します  

### エンコーダー名一覧
x264  
x265  
QSVEncC  
VCEEncC  
NVEncC  
FFmpeg  
libvpx  
libaom  
rav1e  
SVT-HEVC   
SVT-VP9   
SVT-AV1  
VTM  

### 注意点  
10bitでベンチマークする際はvideo_benchmark.batのComparePixelFormatをyuv420pからyuv420p10leに書き換えてください(8bitと10bitの混在したベンチマークの場合も)  

エンコード前の動画とエンコード後の動画のfpsが揃っていなかったりするとSSIMなどのスコアが異常に低く計測されてしまいます  
元の動画は可変フレームレートではなく固定フレームレートで保存しておいてください  
